<!doctype html>
<html>
<head>
    <title>Mobile Attribution test</title>
    <meta charset="utf-8">
</head>
<body>
    <h1>Mobile Attribution test</h1>
    <table border="1">
        <tr>
            <th>Property</th>
            <th>Value</th>
        </tr>
        <tr>
            <td>IPv4</td>
            <td id="ipv4"></td>
        </tr>
        <tr>
            <td>Device name</td>
            <td id="device"></td>
        </tr>
        <tr>
            <td>OS Version</td>
            <td id="os"></td>
        </tr>
        <tr>
            <td>Screen width</td>
            <td id="width"></td>
        </tr>
        <tr>
            <td>Screen height</td>
            <td id="height"></td>
        </tr>
        <tr>
            <td>Available screen width</td>
            <td id="awidth"></td>
        </tr>
        <tr>
            <td>Available screen height</td>
            <td id="aheight"></td>
        </tr>
        <tr>
            <td>IPv6</td>
            <td id="ipv6"></td>
        </tr>
    </table>
    <script src="https://cdn.jsdelivr.net/npm/ua-parser-js@0/dist/ua-parser.min.js"></script>
    <script>
        function ipv4Ready(data) {
            document.querySelector('#ipv4').innerHTML = data.ip;
            console.log('ipv4', data);
        }

        function ipv6Ready(data) {
            if (data.ip.indexOf(':') > -1) {
                document.querySelector('#ipv6').innerHTML = data.ip;
            }
            console.log('ipv6', data);
        }

        var parser = new UAParser();
        var result = parser.getResult();
        document.querySelector('#device').innerHTML = result.device.model ? result.device.model : '';
        document.querySelector('#os').innerHTML = result.os.name + ' ' + (result.os.version ? result.os.version : '');

        document.querySelector('#width').innerHTML = window.screen.width;
        document.querySelector('#height').innerHTML = window.screen.height;

        document.querySelector('#awidth').innerHTML = window.screen.availWidth;
        document.querySelector('#aheight').innerHTML = window.screen.availHeight;
    </script>
    <script src="https://api.ipify.org?format=jsonp&callback=ipv4Ready"></script>
    <script src="https://api6.ipify.org?format=jsonp&callback=ipv6Ready"></script>
</body>
</html>
